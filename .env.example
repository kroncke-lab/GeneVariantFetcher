# Tiered Biomedical Extraction Pipeline Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# API Keys (choose one or more based on which LLM provider you want to use)
# =============================================================================

# OpenAI API Key (for GPT-4o, GPT-4o-mini, etc.)
OPENAI_API_KEY=your-openai-api-key-here

# Anthropic API Key (for Claude models)
# ANTHROPIC_API_KEY=your-anthropic-api-key-here

# =============================================================================
# PubMed/NCBI Configuration
# =============================================================================

# Your email address (required by NCBI for API access)
NCBI_EMAIL=your_email@example.com

# NCBI API Key (optional, increases rate limits from 3 to 10 requests/second)
# Get one at: https://www.ncbi.nlm.nih.gov/account/settings/
# NCBI_API_KEY=your-ncbi-api-key-here

# =============================================================================
# Pipeline Configuration
# =============================================================================

# Tiered Classification Models
TIER1_MODEL=  # Optional: LLM for Tier 1 if TIER1_USE_LLM=true (leave empty to use keywords)
TIER2_MODEL=gpt-4o-mini  # Cheap model for initial classification
TIER3_MODEL=gpt-4o  # Smart model for detailed extraction

# Legacy model names (for backward compatibility)
INTERN_MODEL=gpt-4o-mini
EXTRACTOR_MODEL=gpt-4o

# Alternative: Use Claude models
# TIER2_MODEL=claude-3-haiku-20240307
# TIER3_MODEL=claude-3-sonnet-20240229

# =============================================================================
# Paper Sourcing Configuration (PubMind-first approach)
# =============================================================================

# Use PubMind as primary literature source (recommended)
USE_PUBMIND=true

# Use PubMind ONLY (ignore PubMed/EuropePMC)
# This ensures you only process highly relevant variant-focused papers
PUBMIND_ONLY=true

# Additional sources (only used if PUBMIND_ONLY=false)
USE_PUBMED=false
USE_EUROPEPMC=false

# Maximum papers to fetch per source
MAX_PAPERS_PER_SOURCE=100

# =============================================================================
# Tiered Classification Configuration
# =============================================================================

# Tier 1: Fast keyword/heuristic filtering (free, ~1000 papers/sec)
ENABLE_TIER1=true
TIER1_MIN_KEYWORDS=2  # Minimum keyword matches to pass
TIER1_USE_LLM=false  # Use lightweight LLM instead of keywords (costs more)

# Tier 2: LLM classification for clinical relevance (~$0.0001/paper)
ENABLE_TIER2=true
TIER2_TEMPERATURE=0.1
TIER2_MAX_TOKENS=150
TIER2_CONFIDENCE_THRESHOLD=0.5  # Minimum confidence to pass

# Tier 3: Expert extraction with detailed analysis (~$0.05/paper)
ENABLE_TIER3=true
TIER3_TEMPERATURE=0.0
TIER3_MAX_TOKENS=8000

# =============================================================================
# Logging Configuration
# =============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (leave empty to log only to console)
# LOG_FILE=pipeline.log

# =============================================================================
# Advanced Settings (Optional)
# =============================================================================

# API rate limiting
RATE_LIMIT_PER_MINUTE=60

# Retry settings for API calls
MAX_RETRIES=3
RETRY_MIN_WAIT=2
RETRY_MAX_WAIT=10
